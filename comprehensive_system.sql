-- Comprehensive Mock Data and Payroll System
-- Clear existing data
DELETE FROM attendances WHERE attendance_date >= '2025-08-01' AND attendance_date <= '2025-09-30';

-- Create payroll calculations table
CREATE TABLE IF NOT EXISTS payroll_calculations (
    id INT AUTO_INCREMENT PRIMARY KEY,
    employee_id INT NOT NULL,
    month TINYINT NOT NULL,
    year SMALLINT NOT NULL,
    basic_salary DECIMAL(10,2) NOT NULL,
    total_working_days INT DEFAULT 0,
    present_days INT DEFAULT 0,
    absent_days INT DEFAULT 0,
    late_days INT DEFAULT 0,
    early_leave_days INT DEFAULT 0,
    overtime_hours DECIMAL(5,2) DEFAULT 0,
    overtime_amount DECIMAL(10,2) DEFAULT 0,
    late_deduction DECIMAL(10,2) DEFAULT 0,
    early_leave_deduction DECIMAL(10,2) DEFAULT 0,
    absent_deduction DECIMAL(10,2) DEFAULT 0,
    gross_salary DECIMAL(10,2) DEFAULT 0,
    net_salary DECIMAL(10,2) DEFAULT 0,
    auto_shift_detected VARCHAR(50) DEFAULT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- August 2025 Comprehensive Mock Data
-- Employee 61 (MUHAMMAD UZAIR) - Morning Shift - ₹50,000
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out) VALUES
(61, '2025-08-01', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-02', '07:15', '16:00', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-04', '06:45', '15:30', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-05', '07:30', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-06', '07:00', '16:30', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-07', '07:45', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-08', '07:00', '15:00', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-09', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-11', '06:55', '15:50', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-12', '07:20', '16:15', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-13', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-14', '07:10', '15:55', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-15', '07:00', '17:00', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-16', '07:30', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-18', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-19', '07:15', '16:00', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-20', '06:50', '15:40', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-21', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-22', '07:25', '16:10', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-23', '07:00', '15:30', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-25', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-26', '07:05', '15:50', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-27', '07:00', '16:15', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-28', '07:20', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-29', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-08-30', '06:45', '15:30', '192.168.1.100', '192.168.1.100', 1);

-- Employee 62 (M.SAEED KHAN) - General Shift - ₹41,440  
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out) VALUES
(62, '2025-08-01', '08:00', '17:15', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-02', '08:15', '17:30', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-04', '07:45', '17:00', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-05', '08:30', '17:45', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-06', '08:10', '17:25', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-07', '08:00', '18:30', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-08', '08:45', '17:15', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-09', '08:00', '16:30', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-11', '08:00', '17:15', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-12', '08:20', '17:35', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-13', '08:00', '17:15', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-14', '07:50', '17:05', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-15', '08:15', '17:30', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-16', '08:00', '19:00', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-18', '08:00', '17:15', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-19', '08:25', '17:40', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-20', '08:00', '17:15', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-21', '08:10', '17:25', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-22', '08:00', '16:45', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-23', '08:00', '17:15', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-25', '07:55', '17:10', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-26', '08:00', '17:15', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-27', '08:30', '17:45', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-28', '08:00', '18:15', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-29', '08:15', '17:30', '192.168.1.100', '192.168.1.100', 1),
(62, '2025-08-30', '08:00', '17:15', '192.168.1.100', '192.168.1.100', 1);

-- Employee 63 (M.ASIF) - Mid Shift Pattern (11:00-20:15) - ₹40,700
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out) VALUES
(63, '2025-08-01', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-02', '10:45', '20:00', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-04', '11:15', '20:30', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-05', '11:30', '20:45', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-06', '10:55', '20:10', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-07', '11:00', '21:30', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-08', '11:45', '20:15', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-09', '11:00', '19:30', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-11', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-12', '11:20', '20:35', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-13', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-14', '10:50', '20:05', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-15', '11:15', '20:30', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-16', '11:00', '22:00', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-18', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-19', '11:25', '20:40', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-20', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-21', '11:10', '20:25', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-22', '11:00', '19:45', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-23', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-25', '10:55', '20:10', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-26', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-27', '11:30', '20:45', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-28', '11:00', '21:15', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-29', '11:15', '20:30', '192.168.1.100', '192.168.1.100', 1),
(63, '2025-08-30', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1);

-- Employee 68 (ADAN ISHAAQ) - Mid Shift Pattern - ₹37,000 (Our main test case)
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out) VALUES
(68, '2025-08-01', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-02', '11:10', '20:25', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-04', '10:50', '20:05', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-05', '11:25', '20:40', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-06', '11:00', '20:45', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-07', '11:15', '20:30', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-08', '11:30', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-09', '11:00', '19:30', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-11', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-12', '11:20', '20:35', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-13', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-14', '10:45', '20:00', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-15', '11:30', '20:45', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-16', '11:00', '21:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-18', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-19', '11:35', '20:50', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-20', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-21', '11:05', '20:20', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-22', '11:00', '19:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-23', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-25', '11:45', '21:00', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-26', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-27', '11:15', '20:30', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-28', '11:00', '22:00', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-29', '11:20', '20:35', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-08-30', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1);

-- Continue with September data for the same employees
-- Employee 61 September
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out) VALUES
(61, '2025-09-02', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-03', '07:10', '15:55', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-04', '06:55', '15:40', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-05', '07:20', '16:05', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-06', '07:00', '16:15', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-10', '07:15', '16:00', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-11', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-12', '07:30', '16:15', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-13', '07:00', '15:30', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-16', '07:05', '15:50', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-17', '07:00', '16:30', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-18', '07:25', '16:10', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-19', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-20', '06:50', '15:35', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-23', '07:15', '16:00', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-24', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-25', '07:35', '16:20', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-26', '07:00', '15:15', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-27', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1),
(61, '2025-09-30', '07:00', '15:45', '192.168.1.100', '192.168.1.100', 1);

-- Employee 68 September (ADAN - our test case)
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out) VALUES
(68, '2025-09-02', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-03', '11:10', '20:25', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-04', '10:55', '20:10', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-05', '11:20', '20:35', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-06', '11:00', '20:45', '192.168.1.100', '192.168.1.100', 1),
-- (68, '2025-09-09', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1), -- Already exists
(68, '2025-09-10', '11:15', '20:30', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-11', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-12', '11:25', '20:40', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-13', '11:00', '19:45', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-16', '11:30', '20:45', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-17', '11:00', '21:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-18', '11:40', '20:55', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-19', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-20', '10:45', '20:00', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-23', '11:20', '20:35', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-24', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-25', '11:45', '21:00', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-26', '11:00', '19:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-27', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1),
(68, '2025-09-30', '11:00', '20:15', '192.168.1.100', '192.168.1.100', 1);

-- Sample payroll calculations for August 2025
INSERT INTO payroll_calculations (
    employee_id, month, year, basic_salary, total_working_days, present_days, absent_days, 
    late_days, early_leave_days, overtime_hours, overtime_amount, late_deduction, 
    early_leave_deduction, absent_deduction, gross_salary, net_salary, auto_shift_detected
) VALUES 
(61, 8, 2025, 50000.00, 27, 26, 1, 3, 2, 2.5, 962.00, 150.00, 200.00, 1923.00, 50962.00, 49689.00, 'Shift-A'),
(62, 8, 2025, 41440.00, 27, 26, 1, 2, 1, 1.8, 639.00, 80.00, 120.00, 1594.00, 42079.00, 40285.00, 'General'),
(63, 8, 2025, 40700.00, 27, 26, 1, 1, 2, 2.2, 687.00, 40.00, 180.00, 1565.00, 41387.00, 39602.00, '11:00-20:15'),
(68, 8, 2025, 37000.00, 27, 26, 1, 2, 3, 1.5, 427.00, 60.00, 250.00, 1423.00, 37427.00, 35694.00, '11:00-20:15');

-- Sample payroll calculations for September 2025
INSERT INTO payroll_calculations (
    employee_id, month, year, basic_salary, total_working_days, present_days, absent_days, 
    late_days, early_leave_days, overtime_hours, overtime_amount, late_deduction, 
    early_leave_deduction, absent_deduction, gross_salary, net_salary, auto_shift_detected
) VALUES 
(61, 9, 2025, 50000.00, 26, 20, 6, 2, 1, 1.8, 692.00, 100.00, 80.00, 11538.00, 50692.00, 38974.00, 'Shift-A'),
(62, 9, 2025, 41440.00, 26, 22, 4, 1, 1, 1.2, 426.00, 40.00, 100.00, 6376.00, 41866.00, 35350.00, 'General'),
(63, 9, 2025, 40700.00, 26, 24, 2, 1, 2, 2.0, 625.00, 30.00, 160.00, 3131.00, 41325.00, 38004.00, '11:00-20:15'),
(68, 9, 2025, 37000.00, 26, 21, 5, 3, 2, 1.7, 363.00, 90.00, 180.00, 7115.00, 37363.00, 29978.00, '11:00-20:15');