-- Complete August 2025 Attendance Generator for ALL Employees
-- This script generates diverse attendance patterns for all active employees
-- Run this after the basic script to add data for more employees

-- First, clear any existing August 2025 data (optional)
-- DELETE FROM attendances WHERE attendance_date BETWEEN '2025-08-01' AND '2025-08-31';

-- Get list of all active employees first:
-- SELECT id, first_name, last_name FROM employees WHERE is_active = 1 AND exit_date IS NULL ORDER BY id;

-- Bulk insert for multiple employees with varied patterns
-- Employee 4-10: Different attendance patterns

-- Employee 4 - Consistent but with some overtime
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out, time_late, early_leaving, overtime, total_work, total_rest, attendance_status) VALUES
(4, '2025-08-01', '08:00', '17:30', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:30', '09:30', '00:30', 'Present'),
(4, '2025-08-02', '08:05', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:05', '00:00', '00:00', '08:55', '01:05', 'Present'),
(4, '2025-08-04', '08:00', '18:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '01:00', '10:00', '00:00', 'Present'),
(4, '2025-08-05', '08:10', '17:10', '127.0.0.1', '127.0.0.1', 0, '00:10', '00:00', '00:10', '09:00', '01:00', 'Present'),
(4, '2025-08-06', '08:00', '12:30', '127.0.0.1', '127.0.0.1', 0, '00:00', '04:30', '00:00', '04:30', '00:00', 'Half Day'),
(4, '2025-08-07', '08:00', '17:45', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:45', '09:45', '00:15', 'Present'),
(4, '2025-08-08', '07:55', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:05', '09:05', '00:55', 'Present'),
(4, '2025-08-09', '08:15', '17:15', '127.0.0.1', '127.0.0.1', 0, '00:15', '00:00', '00:15', '09:00', '01:00', 'Present'),
(4, '2025-08-11', '08:00', '19:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '02:00', '11:00', '00:00', 'Present'),
(4, '2025-08-12', '08:00', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:00', '09:00', '01:00', 'Present');

-- Employee 5 - Often late but works extra
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out, time_late, early_leaving, overtime, total_work, total_rest, attendance_status) VALUES
(5, '2025-08-01', '08:30', '18:00', '127.0.0.1', '127.0.0.1', 0, '00:30', '00:00', '01:00', '09:30', '00:30', 'Present'),
(5, '2025-08-02', '08:45', '17:45', '127.0.0.1', '127.0.0.1', 0, '00:45', '00:00', '00:45', '09:00', '01:00', 'Present'),
(5, '2025-08-04', '09:00', '18:30', '127.0.0.1', '127.0.0.1', 0, '01:00', '00:00', '01:30', '09:30', '00:30', 'Present'),
(5, '2025-08-05', '08:20', '17:20', '127.0.0.1', '127.0.0.1', 0, '00:20', '00:00', '00:20', '09:00', '01:00', 'Present'),
(5, '2025-08-06', '08:30', '17:30', '127.0.0.1', '127.0.0.1', 0, '00:30', '00:00', '00:30', '09:00', '01:00', 'Present'),
(5, '2025-08-07', '08:15', '19:15', '127.0.0.1', '127.0.0.1', 0, '00:15', '00:00', '02:15', '11:00', '00:00', 'Present'),
(5, '2025-08-08', '09:30', '18:00', '127.0.0.1', '127.0.0.1', 0, '01:30', '00:00', '00:30', '08:30', '01:30', 'Present'),
(5, '2025-08-09', '08:40', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:40', '00:00', '00:00', '08:20', '01:40', 'Present');

-- Employee 6 - Early bird with consistent timing
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out, time_late, early_leaving, overtime, total_work, total_rest, attendance_status) VALUES
(6, '2025-08-01', '07:45', '16:45', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:15', '00:00', '09:00', '01:00', 'Present'),
(6, '2025-08-02', '07:45', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:15', '09:15', '00:45', 'Present'),
(6, '2025-08-04', '07:30', '16:30', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:30', '00:00', '09:00', '01:00', 'Present'),
(6, '2025-08-05', '07:45', '17:15', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:30', '09:30', '00:30', 'Present'),
(6, '2025-08-06', '07:45', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:15', '09:15', '00:45', 'Present'),
(6, '2025-08-07', '07:30', '17:30', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '01:00', '10:00', '00:00', 'Present'),
(6, '2025-08-08', '07:45', '12:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '05:00', '00:00', '04:15', '00:00', 'Half Day');

-- Employee 63 - Your specific employee with varied patterns
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out, time_late, early_leaving, overtime, total_work, total_rest, attendance_status) VALUES
(63, '2025-08-01', '08:00', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:00', '09:00', '01:00', 'Present'),
(63, '2025-08-02', '08:30', '18:00', '127.0.0.1', '127.0.0.1', 0, '00:30', '00:00', '01:00', '09:30', '00:30', 'Present'),
(63, '2025-08-04', '08:00', '16:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '01:00', '00:00', '08:00', '02:00', 'Early Leave'),
(63, '2025-08-05', '07:45', '19:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '02:15', '11:15', '00:00', 'Present'),
(63, '2025-08-06', '08:15', '17:15', '127.0.0.1', '127.0.0.1', 0, '00:15', '00:00', '00:15', '09:00', '01:00', 'Present'),
(63, '2025-08-07', '08:00', '12:30', '127.0.0.1', '127.0.0.1', 0, '00:00', '04:30', '00:00', '04:30', '00:00', 'Half Day'),
(63, '2025-08-08', '08:45', '17:45', '127.0.0.1', '127.0.0.1', 0, '00:45', '00:00', '00:45', '09:00', '01:00', 'Present'),
(63, '2025-08-09', '08:00', '20:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '04:00', '12:00', '00:00', 'Present'),
(63, '2025-08-11', '09:00', '17:00', '127.0.0.1', '127.0.0.1', 0, '01:00', '00:00', '00:00', '08:00', '02:00', 'Present'),
(63, '2025-08-12', '08:00', '18:30', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '01:30', '10:30', '00:00', 'Present'),
(63, '2025-08-13', '08:20', '16:40', '127.0.0.1', '127.0.0.1', 0, '00:20', '00:20', '00:00', '08:20', '01:40', 'Present'),
(63, '2025-08-14', '08:00', '17:30', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:30', '09:30', '00:30', 'Present'),
(63, '2025-08-15', '07:30', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:30', '09:30', '00:30', 'Present'),
(63, '2025-08-16', '08:30', '19:30', '127.0.0.1', '127.0.0.1', 0, '00:30', '00:00', '02:30', '11:00', '00:00', 'Present'),
(63, '2025-08-18', '08:00', '13:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '04:00', '00:00', '05:00', '00:00', 'Half Day'),
(63, '2025-08-19', '08:15', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:15', '00:00', '00:00', '08:45', '01:15', 'Present'),
(63, '2025-08-20', '08:00', '21:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '05:00', '13:00', '00:00', 'Present'),
(63, '2025-08-21', '08:30', '17:30', '127.0.0.1', '127.0.0.1', 0, '00:30', '00:00', '00:30', '09:00', '01:00', 'Present'),
(63, '2025-08-22', '08:00', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:00', '09:00', '01:00', 'Present'),
(63, '2025-08-23', '08:45', '16:15', '127.0.0.1', '127.0.0.1', 0, '00:45', '00:45', '00:00', '07:30', '02:30', 'Early Leave'),
(63, '2025-08-25', '07:45', '18:15', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '01:30', '10:30', '00:00', 'Present'),
(63, '2025-08-26', '08:00', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:00', '09:00', '01:00', 'Present'),
(63, '2025-08-27', '08:20', '17:50', '127.0.0.1', '127.0.0.1', 0, '00:20', '00:00', '00:50', '09:30', '00:30', 'Present'),
(63, '2025-08-28', '08:00', '12:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '05:00', '00:00', '04:00', '00:00', 'Half Day'),
(63, '2025-08-29', '08:30', '18:00', '127.0.0.1', '127.0.0.1', 0, '00:30', '00:00', '01:00', '09:30', '00:30', 'Present'),
(63, '2025-08-30', '08:00', '17:15', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:15', '09:15', '00:45', 'Present'),
(63, '2025-08-31', '08:00', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:00', '09:00', '01:00', 'Present');

-- DYNAMIC SCRIPT FOR ALL EMPLOYEES
-- Run this to generate attendance for ALL active employees with random patterns
-- You can copy and paste this and replace employee IDs as needed

-- For employees 7-20 (modify as per your actual employee IDs)
-- Pattern 1: Mixed scenarios
INSERT INTO attendances (employee_id, attendance_date, clock_in, clock_out, clock_in_ip, clock_out_ip, clock_in_out, time_late, early_leaving, overtime, total_work, total_rest, attendance_status) VALUES
-- Employee 7
(7, '2025-08-01', '08:00', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:00', '09:00', '01:00', 'Present'),
(7, '2025-08-02', '08:25', '17:30', '127.0.0.1', '127.0.0.1', 0, '00:25', '00:00', '00:30', '09:05', '00:55', 'Present'),
(7, '2025-08-04', '08:00', '16:30', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:30', '00:00', '08:30', '01:30', 'Early Leave'),
(7, '2025-08-05', '07:45', '18:45', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '02:00', '11:00', '00:00', 'Present'),

-- Employee 8
(8, '2025-08-01', '08:10', '17:10', '127.0.0.1', '127.0.0.1', 0, '00:10', '00:00', '00:10', '09:00', '01:00', 'Present'),
(8, '2025-08-02', '08:00', '19:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '03:00', '11:00', '00:00', 'Present'),
(8, '2025-08-04', '08:30', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:30', '00:00', '00:00', '08:30', '01:30', 'Present'),
(8, '2025-08-05', '08:00', '13:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '04:00', '00:00', '05:00', '00:00', 'Half Day'),

-- Employee 9
(9, '2025-08-01', '07:50', '17:20', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:30', '09:30', '00:30', 'Present'),
(9, '2025-08-02', '08:40', '17:40', '127.0.0.1', '127.0.0.1', 0, '00:40', '00:00', '00:40', '09:00', '01:00', 'Present'),
(9, '2025-08-04', '08:00', '20:30', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '04:30', '12:30', '00:00', 'Present'),
(9, '2025-08-05', '08:15', '16:45', '127.0.0.1', '127.0.0.1', 0, '00:15', '00:15', '00:00', '08:30', '01:30', 'Present'),

-- Employee 10
(10, '2025-08-01', '08:00', '17:00', '127.0.0.1', '127.0.0.1', 0, '00:00', '00:00', '00:00', '09:00', '01:00', 'Present'),
(10, '2025-08-02', '08:05', '18:15', '127.0.0.1', '127.0.0.1', 0, '00:05', '00:00', '01:15', '10:10', '00:00', 'Present'),
(10, '2025-08-04', '09:00', '17:00', '127.0.0.1', '127.0.0.1', 0, '01:00', '00:00', '00:00', '08:00', '02:00', 'Present'),
(10, '2025-08-05', '08:00', '12:15', '127.0.0.1', '127.0.0.1', 0, '00:00', '04:45', '00:00', '04:15', '00:00', 'Half Day');

-- Summary and verification queries
-- Run these after inserting the data to verify

-- Check total attendance by employee
SELECT
    employee_id,
    COUNT(*) as total_days,
    SUM(CASE WHEN attendance_status = 'Present' THEN 1 ELSE 0 END) as present_days,
    SUM(CASE WHEN attendance_status = 'Half Day' THEN 1 ELSE 0 END) as half_days,
    SUM(CASE WHEN attendance_status = 'Early Leave' THEN 1 ELSE 0 END) as early_leaves,
    SUM(TIME_TO_SEC(overtime)) / 3600 as total_overtime_hours,
    AVG(TIME_TO_SEC(total_work)) / 3600 as avg_work_hours
FROM attendances
WHERE attendance_date BETWEEN '2025-08-01' AND '2025-08-31'
GROUP BY employee_id
ORDER BY employee_id;

-- Check specific date ranges
SELECT
    attendance_date,
    COUNT(*) as employees_present
FROM attendances
WHERE attendance_date BETWEEN '2025-08-01' AND '2025-08-31'
GROUP BY attendance_date
ORDER BY attendance_date;

-- Check overtime distribution
SELECT
    employee_id,
    attendance_date,
    overtime,
    attendance_status
FROM attendances
WHERE attendance_date BETWEEN '2025-08-01' AND '2025-08-31'
AND TIME_TO_SEC(overtime) > 0
ORDER BY employee_id, attendance_date;